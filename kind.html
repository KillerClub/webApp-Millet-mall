<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title>小米商城-分类页</title>
		<script src="js/mui.min.js"></script>
		<link href="css/mui.css" rel="stylesheet"/>
		<link rel="stylesheet" type="text/css" href="css/kind.css"/>
		<link rel="stylesheet" type="text/css" href="css/iconfont.css"/>
		<script type="text/javascript" charset="utf-8">
	      	mui.init();
			var fs = document.documentElement.clientWidth * 100 / 750 ;
	    	document.documentElement.style.fontSize = fs+"px";
   	 </script>
	</head>
	<body>
		<header class="mui-bar-nav mui-bar">
			<div>
				<input type="text" />
			</div>
			<i class="iconfont icon-xiaoxi"></i>
		</header>
		<div class="mui-content shops">
		    <div class="leftnav">
		    	<a href="javascript:void(0)" data-index="0" class="active">生活</a>
		    	<a href="javascript:void(0)" data-index="1">手机</a>
		    	<a href="javascript:void(0)" data-index="2">电视</a>
		    	<a href="javascript:void(0)" data-index="3">电脑</a>
		    	<a href="javascript:void(0)" data-index="4">音乐</a>
		    </div>
		    <div class="rightnav">
		    	<div class="content">
			    	<div class="big-icon">
			    		<a href="">
			    			<img src="images/fl-1.webp" alt="" />
			    		</a>
			    	</div>
		    	
		    		<h4 class="title"><span>品质生活</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    		<h4 class="title"><span>品质生活</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    	</div>
		    	<div class="content">
			    	<div class="big-icon">
			    		<a href="">
			    			<img src="images/fl-2.webp" alt="" />
			    		</a>
			    	</div>
		    	
		    		<h4 class="title"><span>手机</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    		<h4 class="title"><span>手机</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    	</div>
		    	<div class="content">
			    	<div class="big-icon">
			    		<a href="">
			    			<img src="images/fl-3.webp" alt="" />
			    		</a>
			    	</div>
		    	
		    		<h4 class="title"><span>电视</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    		<h4 class="title"><span>电视</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    	</div>
		    	<div class="content">
			    	<div class="big-icon">
			    		<a href="">
			    			<img src="images/fl-4.webp" alt="" />
			    		</a>
			    	</div>
		    	
		    		<h4 class="title"><span>电脑</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    		<h4 class="title"><span>电脑</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    	</div>
		    	<div class="content">
			    	<div class="big-icon">
			    		<a href="">
			    			<img src="images/fl-5.webp" alt="" />
			    		</a>
			    	</div>
		    	
		    		<h4 class="title"><span>音乐</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    		<h4 class="title"><span>音乐</span></h4>
		    		<div class="mui-row">
		    			<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="" >
								<img src="images/find/find1.jpg" alt="" />
							</a>
							<p class="info">小米5c</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find2.jpg" alt="" />
							</a>
							<p class="info">笔记本</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find3.jpg" alt="" />
							</a>
							<p class="info">摄像头</p>
						</div>	
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find4.jpg" alt="" />
							</a>
							<p class="info">路由器</p>
						</div>
						<div class="mui-col-sm-4 mui-col-xs-4 ">
							<a href="">
								<img src="images/find/find5.jpg" alt="" />
							</a>
							<p class="info">相机</p>
						</div>
		    		</div>
		    	</div>
		    </div>
		</div>
		<nav class="mui-bar mui-bar-tab">
	    <a class="mui-tab-item" href="index.html">
	        <span class="mui-icon iconfont icon-shouye"></span>
	        <span class="mui-tab-label">首页</span>
	    </a>
	    <a class="mui-tab-item mui-active"  href="kind.html">
	        <span class="mui-icon iconfont icon-iconfind"></span>
	        <span class="mui-tab-label">分类</span>
	    </a>
	    <a class="mui-tab-item">
	        <span class="mui-icon iconfont icon-faxian"></span>
	        <span class="mui-tab-label">发现</span>
	    </a>
	    <a class="mui-tab-item">
	        <span class="mui-icon iconfont icon-gouwuche-copy"></span>
	        <span class="mui-tab-label">购物车</span>
	    </a>
	    <a class="mui-tab-item">
	        <span class="mui-icon iconfont icon-wode"></span>
	        <span class="mui-tab-label">我的</span>
	    </a>
	</nav>
	
	<script src="js/xiaomi.js" type="text/javascript" charset="utf-8"></script>
	<script>
		mui.ready(function(){
			//1.找到所有content
			//2.把所有items的offsetTop放到数组里
			var items=document.querySelectorAll('.content');
			//console.log(items);//找出所有的content
			var pos=[];//创建数组
			for(var i=0;i<items.length;i++){
				pos.push(items[i].offsetTop);//把每个items的高度添加pos数组里边
				//console.log(items[i].offsetTop);//获得了每个content的高度
			}//console.log(pos);//数组里边的内容
			
			//1.滚动时要做的事情
			//2.给左侧导航添加tap事件
			function doing(){
				//获取当前的scrollTop，与pos数组比较，看他和第几个距离最近
				var scroll=this.scrollTop;//获取当前滚动的值
				//console.log(this);console.log(scroll);
				var mixIndex=0;
				var minDis=Math.abs(scroll-pos[0]);
				//console.log(scroll);
				for(var i=0;i<pos.length;i++){
					if(Math.abs(pos[i]-scroll)<minDis){
						minDis=Math.abs(pos[i]-scroll);
						//console.log(minDis);
						mixIndex=i;						
					}
				}
				
				if( document.querySelector(".leftnav .active") )
					{
						document.querySelector(".leftnav .active").classList.remove("active");
					}
					//把左侧下标为minIndex那个a加active
					document.querySelectorAll(".leftnav a")[mixIndex].classList.add("active");
			}
//			var doing1 = mui.buffer( doing) ;	//节流函数		
			document.querySelector(".rightnav").addEventListener("scroll",doing);//监听rightnav，有滚动时，去调用函数
			
			
			//给左侧导航添加tap事件
			mui('.leftnav').on('tap','a',function(){
				var index=this.getAttribute('data-index');
				//console.log(index);//用自定义属性：获取a的索引
				
				var i=document.querySelector('.rightnav').scrollTop=pos[index];
				//console.log(i);//点击a后获取了每个rightnav的scrollTop
				
				//把之前有active类的那个a找到，去掉它的active
				if(document.querySelector('.leftnav .active')){
					document.querySelector('.leftnav .active').classList.remove('active');
					
					this.classList.add('active');//把当前的a加active
				}
			})
			
			

		})
	</script>
	</body>
</html>
